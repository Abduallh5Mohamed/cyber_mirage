# ๐ฏ ุดุฑุญ ุนููู - ููููุฉ ุงุณุชุฎุฏุงู Prometheus ู Grafana

## ๐ ุงููููุน ุงูุฌุบุฑุงูู ููุจูุงูุงุช

```
ูู ุฌูุงุฒู:
โโ Prometheus (http://localhost:9090) - ูุฌูุน ุงูุจูุงูุงุช
โ  โโ ูุฎุฒููุง ูู ./prometheus_data
โ
โโ Grafana (http://localhost:3000) - ูุนุฑุถูุง
   โโ ุชุชุตู ุจู Prometheus ูุชุฃุฎุฐ ุงูุจูุงูุงุช
```

---

## ๐ **ุงูุฎุทูุฉ ุงูุฃููู: ุชุดุบูู ุงูุฎุฏูุงุช**

```powershell
# ูู PowerShell
docker-compose up -d prometheus grafana
```

**ุงููุชูุฌุฉ:**
```
[+] Running 2/2
 โ cyber_mirage_prometheus    Started
 โ cyber_mirage_grafana       Started
```

---

## ๐ **ุงูุฎุทูุฉ ุงูุซุงููุฉ: ุงุณุชุฎุฏุงู Prometheus**

### ุงูุชุญ ุงููุชุตูุญ:
```
http://localhost:9090
```

### ุณุชุดูู ูุงุฌูุฉ ุจุณูุทุฉ ุฌุฏุงู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Prometheus                         โ
โ                                     โ
โ  [          Search box         ]    โ
โ                                     โ
โ  Alerts  Graph  Status  Help        โ
โ                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุฌุฑูุจ ุจุญุซ ุจุณูุท:

1. ุงูุชุจ ูู ุงูู Search:
```
up
```

2. ุงุถุบุท Enter ุฃู "Execute"

3. ุณุชุดูู:
```
Name: up
โโ redis_up = 1
โโ postgres_up = 1
โโ prometheus_up = 1
โโ grafana_up = 1
```

### ูุนูู ุงููุชุงุฆุฌ:
```
1 = ุงูุฎุฏูุฉ ุดุบูุงูุฉ โ
0 = ุงูุฎุฏูุฉ ูุชูููุฉ โ
```

---

## ๐ **ุงุณุชุนูุงูุงุช ูููุฏุฉ ูู Prometheus:**

### 1. ุญุงูุฉ ุงูุฎุฏูุงุช:
```
up
```
**ุงููุชูุฌุฉ:** 1 ุฅุฐุง ุดุบุงูุฉุ 0 ุฅุฐุง ูุนุทูุฉ

### 2. ุงุณุชููุงู CPU:
```
rate(container_cpu_usage_seconds_total[5m])
```
**ุงููุชูุฌุฉ:** ูุณุจุฉ ุงูู CPU (ูุซู 12.5%)

### 3. ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ:
```
container_memory_usage_bytes / 1024 / 1024
```
**ุงููุชูุฌุฉ:** ุจุงูู MB (ูุซู 512)

### 4. ุนุฑุถ ูุงุฆูุฉ ุงููุชุบูุฑุงุช:
```
{__name__=~".*"}
```
**ุงููุชูุฌุฉ:** ุฌููุน ุงููุชุบูุฑุงุช ุงููุชุงุญุฉ

### 5. ุงููุฌูุงุช ุงูููุชุดูุฉ:
```
attacks_detected_total
```
**ุงููุชูุฌุฉ:** ุนุฏุฏ ุงููุฌูุงุช ุงูููู

---

## ๐จ **ุงูุฎุทูุฉ ุงูุซุงูุซุฉ: ุงุณุชุฎุฏุงู Grafana**

### ุงูุชุญ ุงููุชุตูุญ:
```
http://localhost:3000
```

### ุณุชุดูู ุตูุญุฉ ุงูุชุณุฌูู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                 โ
โ    Grafana                      โ
โ                                 โ
โ  [  Email          ]            โ
โ  [  Password       ]            โ
โ  [    Sign In      ]            โ
โ                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุจูุงูุงุช ุงูุชุณุฌูู ุงูุงูุชุฑุงุถูุฉ:
```
Username: admin
Password: admin
```

---

## ๐ง **ุจุนุฏ ุงูุชุณุฌูู: ุฅุถุงูุฉ Data Source**

### ุงูุฎุทูุฉ 1: ุงุฐูุจ ุฅูู ุงูุฅุนุฏุงุฏุงุช
```
ูู ุงููุงุฆูุฉ ุนูู ุงููุณุงุฑ:
Configuration โ Data Sources
```

### ุงูุฎุทูุฉ 2: ุฃุถู ูุตุฏุฑ ุจูุงูุงุช ุฌุฏูุฏ
```
+ Add data source
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุฑ Prometheus
```
ุงุฎุชุฑ: Prometheus
```

### ุงูุฎุทูุฉ 4: ุฃุฏุฎู ุงูุฅุนุฏุงุฏุงุช
```
Name: Prometheus
URL: http://prometheus:9090
Access: Server (default)

ุซู ุงุถุบุท: Save & Test
```

### ุณุชุดูู:
```
โ "Data source is working"
```

---

## ๐ **ุฅูุดุงุก Dashboard ุฎุงุต ุจู**

### ุงูุฎุทูุฉ 1: ุงุตูุน Dashboard ุฌุฏูุฏ
```
Dashboards โ + New Dashboard
โ Add Panel
```

### ุงูุฎุทูุฉ 2: ุฃุถู Panel
```
ุงุฎุชุฑ: Prometheus
```

### ุงูุฎุทูุฉ 3: ุงูุชุจ ุงุณุชุนูุงู
```
ูู Metrics:
ุงูุชุจ: up

ุณุชุดูู ุงูุจูุงูุงุช ูุจุงุดุฑุฉ!
```

### ุงูุฎุทูุฉ 4: ุบููุฑ ููุน ุงูุนุฑุถ
```
ูู Visualization:
ุงุฎุชุฑ:
- Graph (ุฑุณู ุฎุท)
- Gauge (ุนุฏุงุฏ)
- Stat (ุฑูู)
- Table (ุฌุฏูู)
```

### ุงูุฎุทูุฉ 5: ุงุญูุธ
```
ุงุถุบุท: Save Dashboard
```

---

## ๐ฏ **Dashboard ุฌุงูุฒ ููุงุณุชุฎุฏุงู**

### ุงูุฎุทูุฉ 1: ุงุณุชูุฑุฏ Dashboard ุฌุงูุฒ
```
Dashboards โ Import
```

### ุงูุฎุทูุฉ 2: ุฃุฏุฎู ID
```
ูุซูุงู: 1860
(ูุฐุง Dashboard ุนุงู ููู Node Exporter)
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุฑ ุงููุตุฏุฑ
```
Prometheus: ุงุฎุชุฑ Prometheus
```

### ุงูุฎุทูุฉ 4: ุงุณุชูุฑุงุฏ
```
ุงุถุบุท: Import
```

### ุณุชุดูู Dashboard ุฌููู ุฌุฏุงู ุจูู ุงูุจูุงูุงุช! ๐จ

---

## ๐ **ุฃูุซูุฉ ุนูู ุงูุฑุณูู ุงูุจูุงููุฉ:**

### ุฑุณู ุฎุท (Graph):
```
ูุนุฑุถ ุชุทูุฑ ุงูุจูุงูุงุช ูุน ุงูููุช
ูุซู:
  CPU โโโโโโโโโโโโโโ
```

### ุนุฏุงุฏ (Gauge):
```
ูุนุฑุถ ุงููููุฉ ุงูุญุงููุฉ ููุท
ูุซู:
  โโโโโโโโโโโโโโโโ
  โ    75%       โ
  โโโโโโโโโโโโโโโโ
```

### ุฑูู (Stat):
```
ูุนุฑุถ ุฑูู ููุท
ูุซู:
  245 Attacks
```

### ุฌุฏูู (Table):
```
ูุนุฑุถ ูุงุฆูุฉ
ูุซู:
  Service | Status | Uptime
  Redis   | Up     | 3h
  Postgres| Up     | 3h
```

---

## ๐ **ุงูุชูุจููุงุช (Alerts)**

### ุฅุถุงูุฉ ุชูุจูู ูู Grafana:

1. ุงูุชุญ Panel
2. ุงุถุบุท: Alert
3. ุงูุชุจ ุงูุดุฑุท:
```
ุฅุฐุง CPU > 80% ุฃุฑุณู ุชูุจูู
```

4. ุงุญูุธ

---

## ๐ฑ **ุงูุจูุงูุงุช ุงููููุฉ ูู Cyber Mirage:**

### 1. ุนุฏุฏ ุงููุฌูุงุช:
```
Query: attacks_detected_total
Type: Stat
Color: ุฃุญูุฑ
```

### 2. ุฃุฏุงุก ุงูู AI:
```
Query: model_inference_seconds
Type: Graph
```

### 3. ุญุงูุฉ ุงูุฎุฏูุงุช:
```
Query: up
Type: Table
```

### 4. ุงุณุชููุงู ุงููุธุงู:
```
Query: container_cpu_usage_seconds_total
Type: Gauge
```

---

## ๐ฌ **ุณููุงุฑูู ุนููู ูุงูู:**

### ุงูุณููุงุฑูู: ูุฑุงูุจุฉ ุงููุฌูุงุช

#### ุงูุฎุทูุฉ 1: ูู Prometheus
```
ุงูุชุจ: attacks_detected_total
ุณุชุดูู: 245
```

#### ุงูุฎุทูุฉ 2: ูู Grafana
```
Dashboard โ + Panel
Query: attacks_detected_total
Type: Stat
Color: ุฃุญูุฑ
Title: Total Attacks
```

#### ุงูุฎุทูุฉ 3: ุดูู ุงููุชูุฌุฉ
```
โโโโโโโโโโโโโโโโโโโโ
โ  Total Attacks   โ
โ                  โ
โ       245        โ
โ                  โ
โโโโโโโโโโโโโโโโโโโโ
```

#### ุงูุฎุทูุฉ 4: ุฃุถู ุชูุจูู
```
ุฅุฐุง > 500 ูุฌูุฉ
ุฃุฑุณู ุชูุจูู! ๐จ
```

---

## ๐พ **ุญูุธ ูุชุตุฏูุฑ:**

### ุญูุธ Dashboard:
```
ุงุถุบุท: Ctrl + S
ุฃู Dashboard Settings โ Save
```

### ุชุตุฏูุฑ ุงูุจูุงูุงุช:
```
ูู Panel:
More โ Export
```

### ูุดุงุฑูุฉ Dashboard:
```
ูู ุงูุฃุนูู:
Share โ ุชุฃุฎุฐ ุฑุงุจุท
ุชุณุชุทูุน ุชุดุงุฑูู ูุน ุฃู ุญุฏ
```

---

## ๐ **ูุตุงุฆุญ ููุงุณุชุฎุฏุงู:**

### ูุตูุญุฉ 1: ุงุณุชุฎุฏู ุงูููุช ุงูููุงุณุจ
```
5m - ุขุฎุฑ 5 ุฏูุงุฆู
1h - ุขุฎุฑ ุณุงุนุฉ
24h - ุขุฎุฑ ููู
```

### ูุตูุญุฉ 2: ุงุณุชุฎุฏู ุงูุฏูุฉ ุงูููุงุณุจุฉ
```
rate(metric[1m]) - ูุญุธู
rate(metric[5m]) - ูุชูุณุท
rate(metric[1h]) - ุทููู ุงูุฃูุฏ
```

### ูุตูุญุฉ 3: ุงุณุชุฎุฏู ุงูุฃููุงู
```
โ ุฃุฎุถุฑ = ูููุณ
๐ก ุฃุตูุฑ = ุชุญุฐูุฑ
๐ด ุฃุญูุฑ = ุฎุทุฑ
```

---

## ๐ **ุงุณุชุนูุงูุงุช ูุชูุฏูุฉ:**

### Sum (ุงููุฌููุน):
```
sum(metric)
```

### Average (ุงููุชูุณุท):
```
avg(metric)
```

### Max (ุงูุฃูุตู):
```
max(metric)
```

### Filter (ุงูุชุตููุฉ):
```
metric{label="value"}
```

---

## ๐ **ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ:**

```
1. ุดุบูู ุงูุฎุฏูุงุช
   docker-compose up -d prometheus grafana

2. ุงูุชุญ Prometheus
   http://localhost:9090

3. ุงุจุญุซ ุนู ุดูุก
   up

4. ุงูุชุญ Grafana
   http://localhost:3000

5. ุฃุถู Data Source
   Prometheus โ http://prometheus:9090

6. ุงุตูุน Panel
   Query โ Visualization โ Save
```

---

## โจ **ุงูููุฎุต:**

| ุงูุฎุทูุฉ | ุงูุฃุฏุงุฉ | ุงููุนู |
|--------|-------|-------|
| 1 | PowerShell | ุดุบูู ุงูุฎุฏูุงุช |
| 2 | Prometheus | ุงุจุญุซ ุนู ุงูุจูุงูุงุช |
| 3 | Grafana | ุฃุถู Data Source |
| 4 | Grafana | ุงุตูุน Dashboard |
| 5 | Grafana | ุฃุถู Panels |
| 6 | Grafana | ุงุญูุธ ูุดุงุฑู |

---

**ุงูุขู ุฃูุช ุชุนุฑู ููููุฉ ุงุณุชุฎุฏุงู Prometheus ู Grafana! ๐**

ุฌุฑูุจ ุจููุณู ุงูุขู! ๐
